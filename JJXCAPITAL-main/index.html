<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>JJXCAPITAL ⚡ - Professional Crypto Platform</title>
  <style>
    /* === TU DISEÑO ORIGINAL (no modificado) === */
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family:'Segoe UI',sans-serif; background:linear-gradient(135deg,#0D0D0D,#1a1a1a); color:#fff; text-align:center; min-height:100vh; }
    #hero { padding:60px 20px; min-height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; }
    .logo { font-size:3.5rem; font-weight:800; color:#FFD700; margin-bottom:20px; }
    .tagline { font-size:1.2rem; color:#ccc; margin-bottom:40px; }
    #hero button { margin:15px 10px; padding:15px 30px; border:none; border-radius:25px; font-size:1.1em; font-weight:600; cursor:pointer; }
    #btn-simulador { background:#444; color:#fff; border:2px solid #FFD700; }
    #btn-login,#btn-register { background:linear-gradient(135deg,#FFD700,#FFA500); color:#000; }
    #app-nav { display:none; position:fixed; bottom:0; width:100%; background:#111; padding:15px 0; }
    #app-nav.show { display:flex; justify-content:space-around; }
    #profile,#payments { display:none; margin:20px; padding:20px; border-radius:15px; }
    #profile.show,#payments.show { display:block; }
  </style>
</head>
<body>
  <!-- HERO -->
  <section id="hero">
    <div class="logo">JJXCAPITAL ⚡</div>
    <p class="tagline">Seguridad, velocidad y confianza</p>
    <button id="btn-simulador">🔄 Ir al Simulador</button>
    <div id="auth-buttons">
      <button id="btn-login">🚀 Iniciar Sesión con Google</button>
      <button id="btn-register">📝 Registrarse Gratis</button>
    </div>
  </section>

  <!-- PROFILE -->
  <section id="profile">
    <h2>👤 Mi Perfil</h2>
    <p>Nombre: <span id="profile-name">—</span></p>
    <p>Email: <span id="profile-email">—</span></p>
    <p>Miembro desde: <span id="profile-date">—</span></p>
    <p>Estado: <span id="profile-status">Plan Gratuito</span></p>
  </section>

  <!-- PAYMENTS -->
  <section id="payments">
    <h2>💎 Plan PREMIUM</h2>
    <div id="paypal-button-container"></div>
  </section>

  <!-- NAV -->
  <nav id="app-nav">
    <a href="#dashboard">🏠 Dashboard</a>
    <a href="#arbitraje">⚡ Arbitraje</a>
    <a href="#historial">📜 Historial</a>
    <a href="#p2p">🤝 P2P</a>
    <a href="#premium">💎 Premium</a>
  </nav>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js"></script>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
    import { getAuth, GoogleAuthProvider, signInWithPopup, createUserWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";
    import { getFirestore, collection, addDoc, query, where, orderBy, getDocs, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";

    // 🔥 Configuración Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyBMHC2YuUO3mwHQORDDGZaQ84-k4tmJGjY",
      authDomain: "jjxcapital-2.firebaseapp.com",
      projectId: "jjxcapital-2",
      storageBucket: "jjxcapital-2.appspot.com",
      messagingSenderId: "842768954334",
      appId: "1:842768954334:web:63248c0a432f583abf234f",
      measurementId: "G-VVYKFN4WPD"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();
    const db = getFirestore(app);

    // 🔹 Botón Simulador
    document.getElementById("btn-simulador").onclick = () => {
      alert("🚀 Simulador en construcción");
    };

    // 🔹 Login con Google
    document.getElementById("btn-login").onclick = () => {
      signInWithPopup(auth, provider).catch(console.error);
    };

    // 🔹 Registro con email/contraseña
    document.getElementById("btn-register").onclick = async () => {
      const email = prompt("Introduce tu email:");
      const pass = prompt("Introduce tu contraseña:");
      if (email && pass) {
        try {
          await createUserWithEmailAndPassword(auth, email, pass);
          alert("✅ Registro completado");
        } catch (e) {
          alert("❌ " + e.message);
        }
      }
    };

    // 🔹 Estado de sesión
    onAuthStateChanged(auth, user => {
      const authBtns = document.getElementById("auth-buttons");
      const profile = document.getElementById("profile");
      const payments = document.getElementById("payments");
      const nav = document.getElementById("app-nav");

      if (user) {
        authBtns.style.display = "none";
        profile.classList.add("show");
        payments.classList.add("show");
        nav.classList.add("show");

        document.getElementById("profile-name").textContent = user.displayName || "Usuario";
        document.getElementById("profile-email").textContent = user.email;
        document.getElementById("profile-date").textContent = user.metadata?.creationTime ? new Date(user.metadata.creationTime).toLocaleDateString("es-ES") : "—";
      } else {
        authBtns.style.display = "block";
        profile.classList.remove("show");
        payments.classList.remove("show");
        nav.classList.remove("show");
      }
    });

    // 🔹 Logout (se agrega botón dinámico)
    document.addEventListener("DOMContentLoaded", () => {
      const profile = document.getElementById("profile");
      const logoutBtn = document.createElement("button");
      logoutBtn.textContent = "🚪 Cerrar Sesión";
      logoutBtn.onclick = () => signOut(auth);
      profile.appendChild(logoutBtn);
    });
  </script>
</body>
</html>